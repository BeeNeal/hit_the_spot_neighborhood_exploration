{% extends 'base.html' %}

{% block title %}
Starting Places

{% endblock %}


{% block content %}
<script>
    $(document).ready(function(){
        $('#questionsModal').modal('show');
    });
</script>

<div><h1>Hi {{ name }}! Here are our top recommendations for you to explore</h1></div>
<div><h3>Which places do you want to visit around {{ address }} ?</h3></div>
<div>
{% for place in places %}

<div>
  <p><b>{{ places[place]['name'] }}</b> is mere steps away at 
  {{ places[place]['address'] }}</p>

{% if session.get('user_id') %}

<button class="addToList" id="interested"  
data-status="interested" 
data-name="{{ places[place]['name'] }}" 
data-id="{{ places[place]['yelp_id'] }}"
data-address="{{ places[place]['address'] }}"
data-latitude="{{ places[place]['latitude'] }}"
data-longitude="{{ places[place]['longitude'] }}" 
data-url="{{ places[place]['url'] }}"
data-pic="{{ places[place]['pic'] }}" >I want to go!</button>

<button class="addToList" id="visited"
data-status="visited" 
data-name="{{ places[place]['name'] }}" 
data-id="{{ places[place]['yelp_id'] }}"
data-address="{{ places[place]['address'] }}"
data-latitude="{{ places[place]['latitude'] }}"
data-longitude="{{ places[place]['longitude'] }}" 
data-url="{{ places[place]['url'] }}"
data-pic="{{ places[place]['pic'] }}" >I've been here! </button>

{% else %}
<button id='login' data-toggle="modal" 
        data-target="#loginModal">I want to go!</button>
<button id='login' data-toggle="modal" 
        data-target="#loginModal">I've been here!</button>       
{% endif %}

</div>
{% endfor %}
</div>

<button type='button' id='questionModalBtn' data-toggle="modal" 
        data-target="#questionsModal">QModal</button>

<!-- Modal -->
<div id="questionsModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Some Quick Qs for where you want to explore</h4>
      </div>
      <div class="modal-body">
    <p>What's your favorite type of food?</p>
    <div class="well spaced" style="width:40%;">
      <form class='questionsForm' method="post" > 
          <input type="text" name="cuisinePreference" 
                 id='cuisinePreference' required class="form-control">
              <span class="glyphicon glyphicon-chevron-right">
              </span>
              <span class="glyphicon glyphicon-search"></span>

              <button type='button' id='q2Modal' data-toggle='modal'
              data-target='#q2modal' onClick='saveQData()'>Launch Q2</button>
      </div>
    </div>
  </div>
</div>


<!-- Q2 Modal -->
<div id="q2modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Q2 Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Some Quick Qs for where you want to explore</h4>
      </div>
      <div class="modal-body">
    <p>Any hobbies? (q2)!</p>
    <div class="well spaced" style="width:40%;">
      <form class='questionsForm' method="post" > Any hobbies?
          <input type="text" name="hobby" 
                 id='hobby' required class="form-control">

              <button type='button' id='q3modalbtn' data-toggle='modal'
              data-target='#q3modal' >Launch Q3</button>
      </div>
    </div>
  </div>
</div>

<!-- Q3 Modal -->
<div id="q3modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Q3 Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Some Quick Qs for where you want to explore</h4>
      </div>
      <div class="modal-body">
    <p>Outdoors or indoors or both?</p>
    <div class="well spaced" style="width:40%;">
      <form class='questionsForm' method="post" > Indoors or outdoors? (q3)
          <input type="text" name="outdoors" 
                 id='outdoors' required class="form-control">

              <button type='button' id='submit'>Done</button>
      </div>
    </div>
  </div>
</div>



{% endblock %}

